<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Ambritech Global Marketplace | B2B Suppliers & Products</title>
  <meta name="description" content="Multi-vendor B2B marketplace for spices & food products. Compare suppliers, send RFQ, and chat via WhatsApp."/>
  <style>
    :root{
      --bg:#070b14; --bg2:#0b1220; --card:#0f1a2e; --line:#223255;
      --text:#eef3ff; --muted:#c2cbe6; --brand:#ff6a00; --brand2:#ff8a34;
      --good:#2be4a7; --danger:#ff4b81;
      --shadow:0 14px 40px rgba(0,0,0,.35);
      --r:18px; --r2:14px; --max:1260px;
      --font:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:var(--font); color:var(--text);
      background:
        radial-gradient(1200px 700px at 15% -10%, #1a2b52 0%, transparent 60%),
        radial-gradient(1200px 700px at 115% 10%, #3a204f 0%, transparent 55%),
        linear-gradient(180deg, var(--bg) 0%, var(--bg2) 35%, var(--bg) 100%);
    }
    a{color:inherit; text-decoration:none}
    .wrap{max-width:var(--max); margin:0 auto; padding:0 18px}

    /* TOP NAV */
    .top{
      position:sticky; top:0; z-index:50;
      backdrop-filter:blur(12px);
      background:rgba(7,11,20,.82);
      border-bottom:1px solid rgba(34,50,85,.6);
    }
    .topRow{
      display:flex; align-items:center; justify-content:space-between;
      gap:16px; padding:10px 0; flex-wrap:wrap;
    }
    .brand{display:flex; align-items:center; gap:10px; min-width:220px}
    .logo{
      width:40px; height:40px; border-radius:12px;
      display:grid; place-items:center; font-weight:950;
      background:linear-gradient(135deg,var(--brand),var(--brand2));
      box-shadow:0 10px 25px rgba(255,106,0,.25);
    }
    .brand h1{margin:0; font-size:14px}
    .brand small{display:block; color:var(--muted); font-weight:750; margin-top:2px}
    .topSearch{
      flex:1 1 280px;
      display:flex; align-items:center; gap:8px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(34,50,85,.9);
      background:rgba(7,11,20,.45);
    }
    .topSearch input{
      width:100%; border:none; outline:none;
      background:transparent; color:var(--text); font-weight:850; font-size:14px;
    }
    .topNav{
      display:flex; align-items:center; gap:8px; flex-wrap:wrap; justify-content:flex-end;
    }
    .pill{
      padding:8px 12px; border-radius:999px;
      border:1px solid rgba(34,50,85,.9);
      background:rgba(15,26,46,.55);
      font-size:13px; font-weight:850;
      cursor:pointer;
    }
    .pill:hover{border-color:rgba(255,106,0,.6)}
    .btn{
      padding:9px 13px; border-radius:999px;
      border:1px solid rgba(255,106,0,.45);
      background:linear-gradient(135deg,rgba(255,106,0,.97),rgba(255,138,52,.97));
      color:#1b0c00; font-size:13px; font-weight:950;
      cursor:pointer; box-shadow:0 12px 30px rgba(255,106,0,.18);
    }
    .btnGhost{
      padding:8px 13px; border-radius:999px;
      border:1px solid rgba(34,50,85,.9);
      background:rgba(7,11,20,.45);
      font-size:13px; font-weight:900; cursor:pointer;
    }

    /* HERO */
    .hero{padding:22px 0 10px}
    .heroGrid{
      display:grid; gap:16px;
      grid-template-columns:260px minmax(0,1.2fr) 260px;
      align-items:stretch;
    }
    @media (max-width:1080px){.heroGrid{grid-template-columns:260px minmax(0,1fr)}}
    @media (max-width:880px){.heroGrid{grid-template-columns:1fr}}
    .panel{
      border:1px solid rgba(34,50,85,.75);
      border-radius:var(--r);
      background:linear-gradient(180deg,rgba(15,26,46,.7),rgba(12,22,40,.6));
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    .hd{
      padding:13px 14px 9px;
      border-bottom:1px solid rgba(34,50,85,.55);
      display:flex; justify-content:space-between; align-items:center; gap:10px;
    }
    .hd b{font-size:13px}
    .tagSmall{font-size:11px; font-weight:850; color:var(--muted)}
    .bd{padding:13px}
    .catList{display:flex; flex-direction:column; gap:7px}
    .cat{
      display:flex; justify-content:space-between; align-items:center; gap:10px;
      padding:8px 10px; border-radius:var(--r2);
      border:1px solid rgba(34,50,85,.7);
      background:rgba(7,11,20,.35);
      font-size:13px; font-weight:900;
    }
    .cat span{font-size:11px; color:var(--muted); font-weight:800}
    .cat:hover{border-color:rgba(255,106,0,.6)}
    .big{
      padding:20px;
      background:
        radial-gradient(900px 480px at 20% 0%, rgba(255,106,0,.2) 0%, transparent 60%),
        radial-gradient(700px 520px at 120% 20%, rgba(43,228,167,.12) 0%, transparent 55%),
        linear-gradient(180deg,rgba(12,22,40,.65),rgba(15,26,46,.65));
    }
    .big h2{margin:0; font-size:26px; line-height:1.15}
    .big p{margin:8px 0 0; color:var(--muted); font-weight:750}
    .tabs{margin-top:12px; display:flex; gap:8px; flex-wrap:wrap}
    .tab{
      padding:7px 11px; border-radius:999px; font-size:12px; font-weight:900;
      border:1px solid rgba(34,50,85,.8); background:rgba(7,11,20,.35); cursor:pointer;
    }
    .tab.active{border-color:rgba(255,106,0,.75); background:rgba(255,106,0,.14); color:#ffd1b0}
    .trust{margin-top:10px; display:flex; flex-wrap:wrap; gap:8px}
    .trust span{
      padding:7px 9px; border-radius:999px;
      border:1px solid rgba(34,50,85,.8);
      background:rgba(7,11,20,.35);
      font-size:11px; font-weight:850; color:var(--muted);
    }

    .supCard{
      border-radius:var(--r2);
      border:1px solid rgba(34,50,85,.7);
      background:rgba(7,11,20,.4);
      padding:9px 10px; margin-bottom:8px;
      font-size:12px;
    }
    .supTitle{font-weight:900; margin-bottom:3px}
    .supMeta{display:flex; flex-wrap:wrap; gap:6px; color:var(--muted); font-weight:800; font-size:11px}
    .supMeta span{padding:4px 7px; border-radius:999px; border:1px solid rgba(34,50,85,.7); background:rgba(7,11,20,.3)}

    /* PRODUCTS & SUPPLIERS SECTION */
    .section{padding:12px 0 34px}
    .secHead{
      display:flex; align-items:flex-end; justify-content:space-between;
      gap:12px; margin-bottom:10px;
    }
    .secHead h3{margin:0; font-size:18px}
    .secHead small{color:var(--muted); font-weight:750}
    .gridMain{
      display:grid; gap:14px;
      grid-template-columns:260px minmax(0,1.4fr) 260px;
      align-items:flex-start;
    }
    @media (max-width:1140px){.gridMain{grid-template-columns:260px minmax(0,1fr)}}
    @media (max-width:880px){.gridMain{grid-template-columns:1fr}}

    label{font-size:11px; color:var(--muted); font-weight:900}
    select,.field{
      width:100%;
      padding:9px 10px;
      border-radius:var(--r2);
      border:1px solid rgba(34,50,85,.8);
      background:rgba(7,11,20,.35);
      color:var(--text);
      font-size:13px;
      font-weight:850;
      outline:none;
    }
    .products{
      display:grid; gap:14px;
      grid-template-columns:repeat(2,minmax(0,1fr));
    }
    @media (max-width:1020px){.products{grid-template-columns:repeat(2,minmax(0,1fr))}}
    @media (max-width:720px){.products{grid-template-columns:1fr}}

    .card{
      border-radius:var(--r);
      border:1px solid rgba(34,50,85,.75);
      background:linear-gradient(180deg,rgba(15,26,46,.7),rgba(12,22,40,.6));
      box-shadow:var(--shadow);
      overflow:hidden;
      display:flex; flex-direction:column;
    }
    .img{
      height:130px; padding:10px 12px;
      display:flex; justify-content:space-between; align-items:flex-end;
      background:
        radial-gradient(180px 120px at 30% 40%, rgba(255,106,0,.35), transparent 65%),
        radial-gradient(180px 120px at 70% 30%, rgba(43,228,167,.25), transparent 60%),
        linear-gradient(135deg, rgba(34,50,85,.55), rgba(15,26,46,.25));
      border-bottom:1px solid rgba(34,50,85,.6);
    }
    .badge{padding:6px 9px; border-radius:999px; font-size:11px; font-weight:900}
    .b1{background:rgba(43,228,167,.16); border:1px solid rgba(43,228,167,.5); color:var(--good)}
    .b2{background:rgba(255,106,0,.14); border:1px solid rgba(255,106,0,.45); color:#ffd1b0}
    .content{padding:10px 12px 12px; display:flex; flex-direction:column; gap:8px; flex:1}
    .content h4{margin:0; font-size:15px}
    .meta{display:flex; flex-wrap:wrap; gap:6px; font-size:11px; color:var(--muted); font-weight:800}
    .meta span{padding:4px 7px; border-radius:999px; border:1px solid rgba(34,50,85,.75); background:rgba(7,11,20,.25)}
    .supplierLine{font-size:11px; color:var(--muted); font-weight:800}
    .supplierLine b{color:var(--text)}
    .actions{margin-top:auto; display:flex; gap:8px; flex-wrap:wrap}
    .outline{
      flex:1 1 110px; padding:8px 10px; border-radius:var(--r2);
      border:1px solid rgba(34,50,85,.9);
      background:rgba(7,11,20,.3);
      font-size:12px; font-weight:900; text-align:center; cursor:pointer;
    }
    .primary{
      flex:1 1 120px; padding:8px 10px; border-radius:var(--r2);
      border:1px solid rgba(255,106,0,.6);
      background:linear-gradient(135deg,rgba(255,106,0,.97),rgba(255,138,52,.97));
      color:#1b0c00; font-size:12px; font-weight:950; text-align:center; cursor:pointer;
    }

    /* Right suppliers list */
    .suppliersList{display:flex; flex-direction:column; gap:8px}
    .badgeDot{
      width:8px; height:8px; border-radius:50%; background:var(--good); margin-right:4px;
    }

    /* FOOTER */
    .foot{
      padding:24px 0 36px; border-top:1px solid rgba(34,50,85,.55);
      color:var(--muted); font-size:13px;
    }

    /* MODAL */
    .modal{
      position:fixed; inset:0; display:none;
      place-items:center;
      background:rgba(0,0,0,.55);
      z-index:60;
      padding:18px;
    }
    .modalCard{
      width:min(760px,100%);
      border-radius:22px;
      border:1px solid rgba(34,50,85,.85);
      background:linear-gradient(180deg,rgba(15,26,46,.94),rgba(12,22,40,.92));
      box-shadow:0 30px 80px rgba(0,0,0,.6);
      overflow:hidden;
    }
    .modalHd{
      padding:13px 16px 9px;
      border-bottom:1px solid rgba(34,50,85,.6);
      display:flex; justify-content:space-between; align-items:center; gap:10px;
    }
    .modalBd{padding:14px 16px 16px}
    .xBtn{
      width:36px; height:36px; border-radius:14px; border:1px solid rgba(34,50,85,.9);
      background:rgba(7,11,20,.35); display:grid; place-items:center; cursor:pointer;
      font-weight:900;
    }
    .form{
      display:grid; gap:10px;
      grid-template-columns:repeat(2,minmax(0,1fr));
    }
    @media (max-width:720px){.form{grid-template-columns:1fr}}
    .full{grid-column:1/-1}
    textarea{min-height:110px; resize:vertical}
    .help{font-size:11px; color:var(--muted); font-weight:800}
    .rowBtns{display:flex; gap:10px; justify-content:flex-end; flex-wrap:wrap; margin-top:8px}

    /* Floating WhatsApp */
    .waFloat{
      position:fixed; right:18px; bottom:18px; z-index:55;
      padding:11px 14px; border-radius:999px;
      background:#25D366; color:#071507; font-weight:950; font-size:13px;
      box-shadow:0 12px 30px rgba(0,0,0,.35);
    }
  </style>
</head>
<body>

<script>
  /* CONTACT CONFIG */
  const BUSINESS_EMAIL = "Tharasaithangam@ambritech.io";
  const WHATSAPP_NUMBER = "918270802722";
</script>

<!-- TOP BAR -->
<div class="top">
  <div class="wrap">
    <div class="topRow">
      <div class="brand">
        <div class="logo">A</div>
        <div>
          <h1>Ambritech Global Marketplace</h1>
          <small>B2B Spices & Food ‚Ä¢ Wholesale Export</small>
        </div>
      </div>

      <div class="topSearch">
        üîé
        <input id="topSearch" placeholder="Search products or suppliers‚Ä¶" oninput="syncSearch()"/>
      </div>

      <div class="topNav">
        <button class="pill" onclick="scrollToId('products')">Products</button>
        <button class="pill" onclick="scrollToId('suppliers')">Suppliers</button>
        <button class="pill" onclick="openRFQ('General RFQ')">Post RFQ</button>
        <button class="btnGhost">Sign in</button>
        <button class="btn" onclick="openSupplierJoin()">Become a supplier</button>
      </div>
    </div>
  </div>
</div>

<!-- HERO -->
<div class="hero">
  <div class="wrap">
    <div class="heroGrid">
      <!-- Left categories -->
      <div class="panel">
        <div class="hd"><b>Categories</b><span class="tagSmall">Browse by product</span></div>
        <div class="bd">
          <div class="catList">
            <button class="cat" onclick="setCategory('Spices')">Whole Spices <span>Turmeric, cumin, pepper‚Ä¶</span></button>
            <button class="cat" onclick="setCategory('Masala')">Masala Powders <span>Garam masala, sambar‚Ä¶</span></button>
            <button class="cat" onclick="setCategory('Blends')">Custom Blends <span>Private label</span></button>
            <button class="cat" onclick="setCategory('Bulk')">Bulk & Containers <span>Mixed pallets</span></button>
            <button class="cat" onclick="setCategory('Other')">Other Foods <span>Future categories</span></button>
          </div>
        </div>
      </div>

      <!-- Middle hero -->
      <div class="panel big">
        <h2>Find verified suppliers & export-ready products in one place</h2>
        <p>Compare MOQ, packaging, and response time. Send RFQ to multiple suppliers and get quotes via email or WhatsApp.</p>

        <div class="tabs">
          <div class="tab active" id="tabProducts" onclick="setMode('products')">üîπ Buyers: search products</div>
          <div class="tab" id="tabSuppliers" onclick="setMode('suppliers')">üè≠ Suppliers: showcase factory</div>
        </div>

        <div class="trust">
          <span>‚úÖ IEC & MSME Registered Platform</span>
          <span>‚úÖ Verified Export Documents</span>
          <span>‚úÖ Private Label Support</span>
          <span>‚úÖ Fast WhatsApp Response</span>
        </div>
      </div>

      <!-- Right featured suppliers -->
      <div class="panel">
        <div class="hd"><b>Featured Suppliers</b><span class="tagSmall" id="supCountLabel"></span></div>
        <div class="bd" id="featuredSuppliers"></div>
      </div>
    </div>
  </div>
</div>

<!-- MAIN SECTION: PRODUCTS + FILTERS + SUPPLIERS -->
<div class="section" id="products">
  <div class="wrap">
    <div class="secHead">
      <div>
        <h3>Popular Products</h3>
        <small>Alibaba-style product cards ‚Ä¢ Quote / RFQ based</small>
      </div>
      <small>Powered by <b>Ambritech</b> marketplace</small>
    </div>

    <div class="gridMain">
      <!-- Filters -->
      <div class="panel">
        <div class="hd">
          <b>Filters</b>
          <span class="tagSmall" id="prodCount">0 items</span>
        </div>
        <div class="bd" style="display:flex;flex-direction:column;gap:9px">
          <div>
            <label>Category</label>
            <select id="filterCat" onchange="applyFilters()">
              <option value="">All</option>
              <option value="Spices">Whole Spices</option>
              <option value="Masala">Masala Powders</option>
              <option value="Blends">Custom Blends</option>
              <option value="Bulk">Bulk & Containers</option>
              <option value="Other">Other</option>
            </select>
          </div>
          <div>
            <label>MOQ</label>
            <select id="filterMoq" onchange="applyFilters()">
              <option value="">Any</option>
              <option value="25">Up to 25 kg</option>
              <option value="50">Up to 50 kg</option>
              <option value="100">Up to 100 kg</option>
              <option value="500">Up to 500 kg</option>
            </select>
          </div>
          <div>
            <label>Supplier country</label>
            <select id="filterCountry" onchange="applyFilters()">
              <option value="">Any</option>
              <option value="India">India</option>
              <option value="UAE">UAE</option>
            </select>
          </div>
          <div>
            <label>Response</label>
            <select id="filterResponse" onchange="applyFilters()">
              <option value="">Any</option>
              <option value="4h">Under 4 hours</option>
              <option value="12h">Under 12 hours</option>
              <option value="24h">Under 24 hours</option>
            </select>
          </div>
          <button class="btn" onclick="resetFilters()">Reset filters</button>
          <div class="help">
            Tip: Use ‚ÄúPost RFQ‚Äù to let suppliers send you offers instead of searching one-by-one.
          </div>
        </div>
      </div>

      <!-- Product list -->
      <div>
        <div class="products" id="productList"></div>
      </div>

      <!-- Supplier list -->
      <div class="panel" id="suppliers">
        <div class="hd">
          <b>All Suppliers</b>
          <span class="tagSmall" id="supAllLabel"></span>
        </div>
        <div class="bd">
          <div class="suppliersList" id="supplierList"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- FOOTER -->
<div class="foot" id="contact">
  <div class="wrap">
    <p><b style="color:var(--text)">Ambritech Global Marketplace</b><br/>
      Connect buyers & suppliers for spices, masala powders and food products.</p>
    <p>
      Contact marketplace team:<br/>
      Email: <span id="emailText"></span><br/>
      WhatsApp: <span id="waText"></span>
    </p>
    <p>¬© <span id="year"></span> Ambritech Import Export (OPC) Private Limited.</p>
  </div>
</div>

<!-- Floating WhatsApp -->
<a class="waFloat" id="waFloat" target="_blank" rel="noreferrer">
  WhatsApp
</a>

<!-- RFQ MODAL -->
<div class="modal" id="rfqModal" onclick="if(event.target.id==='rfqModal'){closeRFQ()}">
  <div class="modalCard">
    <div class="modalHd">
      <div>
        <b>Post RFQ / Send Enquiry</b><br/>
        <span class="help">One RFQ can be sent to multiple suppliers through the marketplace team.</span>
      </div>
      <div class="xBtn" onclick="closeRFQ()">‚úï</div>
    </div>
    <div class="modalBd">
      <form class="form" onsubmit="submitEmailRFQ(event)">
        <div class="full">
          <label>Product</label>
          <input class="field" id="rfqProduct" placeholder="e.g. Turmeric Powder, 10 MT"/>
        </div>
        <div>
          <label>Quantity</label>
          <input class="field" id="rfqQty" placeholder="e.g. 1000 kg / 1 container"/>
        </div>
        <div>
          <label>Destination Country</label>
          <input class="field" id="rfqCountry" placeholder="e.g. UAE, Malaysia"/>
        </div>
        <div>
          <label>Incoterm</label>
          <select class="field" id="rfqIncoterm">
            <option value="">Any</option>
            <option value="FOB">FOB</option>
            <option value="CIF">CIF</option>
            <option value="CFR">CFR</option>
          </select>
        </div>
        <div>
          <label>Your Name / Company</label>
          <input class="field" id="rfqName" placeholder="Buyer name / company"/>
        </div>
        <div>
          <label>Email</label>
          <input class="field" id="rfqEmail" type="email" placeholder="buyer@example.com" required/>
        </div>
        <div class="full">
          <label>Details</label>
          <textarea class="field" id="rfqMsg" placeholder="Packaging, target price, documents required, delivery time, etc."></textarea>
        </div>
        <div class="full rowBtns">
          <button type="button" class="btnGhost" onclick="sendWhatsAppRFQ()">Send via WhatsApp</button>
          <button type="submit" class="btn">Send via Email</button>
        </div>
        <div class="full help">
          This demo opens your email client or WhatsApp chat. Later this RFQ can be stored in your own backend / CRM.
        </div>
      </form>
    </div>
  </div>
</div>

<script>
  /* Data: multi-vendor products and suppliers */
  const suppliers = [
    {id:"ambritech", name:"Ambritech Spices (India)", country:"India", rating:4.9, resp:"4h", tags:["Exporter","Private Label","OEM"]},
    {id:"saiFoods", name:"Sai Foods & Masala", country:"India", rating:4.7, resp:"12h", tags:["Masala","Custom Blends"]},
    {id:"desertUAE", name:"Desert Gulf Trading", country:"UAE", rating:4.6, resp:"24h", tags:["Importer","Middle East Stock"]},
  ];

  const products = [
    {name:"Turmeric Powder", cat:"Masala", moq:50, origin:"Tamil Nadu, India", packs:["1 kg","5 kg","25 kg"], supplier:"ambritech", badge:"Export Ready", tag:"Hot Sale"},
    {name:"Red Chilli Powder", cat:"Masala", moq:50, origin:"Tamil Nadu, India", packs:["1 kg","5 kg","25 kg"], supplier:"ambritech", badge:"Quality Checked", tag:"Top Rated"},
    {name:"Coriander Powder", cat:"Masala", moq:50, origin:"India", packs:["1 kg","5 kg","25 kg"], supplier:"saiFoods", badge:"Bulk", tag:"Fast Dispatch"},
    {name:"Cumin Seeds", cat:"Spices", moq:100, origin:"India", packs:["5 kg","10 kg","25 kg"], supplier:"ambritech", badge:"Whole Spice", tag:"Premium"},
    {name:"Black Pepper", cat:"Spices", moq:100, origin:"India", packs:["5 kg","10 kg","25 kg"], supplier:"desertUAE", badge:"Export Grade", tag:"Trending"},
    {name:"Garam Masala Blend", cat:"Blends", moq:25, origin:"Tamil Nadu, India", packs:["1 kg","5 kg","25 kg"], supplier:"saiFoods", badge:"Blend Support", tag:"Custom"},
    {name:"Container Mix Load", cat:"Bulk", moq:500, origin:"India", packs:["25 kg"], supplier:"ambritech", badge:"Wholesale", tag:"Best for importers"},
  ];

  /* Utility */
  function getSupplier(id){ return suppliers.find(s=>s.id===id) || suppliers[0]; }

  /* Fill footer contact */
  document.getElementById("emailText").textContent = BUSINESS_EMAIL;
  document.getElementById("waText").textContent = "+"+WHATSAPP_NUMBER;
  document.getElementById("year").textContent = new Date().getFullYear();
  const waBase = `https://wa.me/${WHATSAPP_NUMBER}`;
  document.getElementById("waFloat").href = waBase+"?text="+encodeURIComponent("Hello Ambritech marketplace, I want to discuss B2B sourcing.");

  /* Featured suppliers */
  const featuredEl = document.getElementById("featuredSuppliers");
  featuredEl.innerHTML = suppliers.map(s => `
    <div class="supCard">
      <div class="supTitle">${s.name}</div>
      <div class="supMeta">
        <span>‚≠ê ${s.rating.toFixed(1)} / 5.0</span>
        <span>${s.country}</span>
        <span>Resp: ${s.resp}</span>
      </div>
    </div>
  `).join("");
  document.getElementById("supCountLabel").textContent = suppliers.length+" suppliers";

  /* Supplier list right panel */
  const supplierList = document.getElementById("supplierList");
  supplierList.innerHTML = suppliers.map(s => `
    <div class="supCard">
      <div class="supTitle">${s.name}</div>
      <div class="supMeta">
        <span>‚≠ê ${s.rating.toFixed(1)}</span>
        <span>${s.country}</span>
        <span>Resp: ${s.resp}</span>
        <span>Products: ${products.filter(p=>p.supplier===s.id).length}</span>
      </div>
      <div class="help" style="margin-top:6px">
        <span style="display:inline-flex;align-items:center;">
          <span class="badgeDot"></span>Active
        </span> ‚Ä¢ Click ‚ÄúSend Enquiry‚Äù on any product to reach this supplier via Ambritech.
      </div>
    </div>
  `).join("");
  document.getElementById("supAllLabel").textContent = suppliers.length+" suppliers";

  /* Product rendering */
  const productList = document.getElementById("productList");
  const prodCount = document.getElementById("prodCount");

  function productCard(p){
    const s = getSupplier(p.supplier);
    const packs = p.packs.map(pk=>`<span>${pk}</span>`).join("");
    return `
      <div class="card">
        <div class="img">
          <div class="badge b1">${p.badge}</div>
          <div class="badge b2">${p.tag}</div>
        </div>
        <div class="content">
          <h4>${p.name}</h4>
          <div class="supplierLine">Supplier: <b>${s.name}</b> ‚Ä¢ ${s.country} ‚Ä¢ ‚≠ê ${s.rating.toFixed(1)}</div>
          <div class="meta">
            <span>MOQ: ${p.moq} kg</span>
            <span>${p.origin}</span>
            <span>Lead time: 7‚Äì15 days</span>
            <span>Price: Ask for quote</span>
          </div>
          <div class="meta">${packs}</div>
          <div class="actions">
            <div class="outline" onclick="openRFQ('${p.name} - ${s.name}')">Details / RFQ</div>
            <div class="primary" onclick="openWhatsAppDirect('${p.name}','${s.name}')">Chat Supplier</div>
          </div>
        </div>
      </div>
    `;
  }

  function renderProducts(items){
    productList.innerHTML = items.map(productCard).join("");
    prodCount.textContent = items.length+" items";
  }

  function applyFilters(){
    const q = (document.getElementById("topSearch").value || "").toLowerCase().trim();
    const cat = document.getElementById("filterCat").value;
    const moq = document.getElementById("filterMoq").value;
    const country = document.getElementById("filterCountry").value;
    const resp = document.getElementById("filterResponse").value;

    let items = products.filter(p=>{
      const s = getSupplier(p.supplier);
      const okQ = !q || p.name.toLowerCase().includes(q) || s.name.toLowerCase().includes(q);
      const okCat = !cat || p.cat === cat;
      const okMoq = !moq || p.moq <= Number(moq);
      const okCountry = !country || s.country === country;
      const okResp = !resp || (
        resp==="4h" && (s.resp==="4h") ||
        resp==="12h" && (s.resp==="4h" || s.resp==="12h") ||
        resp==="24h"
      );
      return okQ && okCat && okMoq && okCountry && okResp;
    });

    renderProducts(items);
  }

  function resetFilters(){
    ["filterCat","filterMoq","filterCountry","filterResponse"].forEach(id => document.getElementById(id).value="");
    document.getElementById("topSearch").value="";
    applyFilters();
  }

  function setCategory(cat){
    document.getElementById("filterCat").value = cat;
    applyFilters();
    scrollToId("products");
  }

  function syncSearch(){ applyFilters(); }

  /* RFQ + WhatsApp */
  function openRFQ(product){
    document.getElementById("rfqProduct").value = product || "General RFQ";
    document.getElementById("rfqModal").style.display="grid";
  }
  function closeRFQ(){ document.getElementById("rfqModal").style.display="none"; }

  function submitEmailRFQ(e){
    e.preventDefault();
    const product = document.getElementById("rfqProduct").value.trim();
    const qty = document.getElementById("rfqQty").value.trim();
    const country = document.getElementById("rfqCountry").value.trim();
    const incoterm = document.getElementById("rfqIncoterm").value.trim();
    const name = document.getElementById("rfqName").value.trim();
    const email = document.getElementById("rfqEmail").value.trim();
    const msg = document.getElementById("rfqMsg").value.trim();

    const subject = `Marketplace RFQ: ${product || "Product"} (${qty || "Qty"}) to ${country || "Country"}`;
    const body = `Hello Ambritech Marketplace,

Product: ${product || "-"}
Quantity: ${qty || "-"}
Destination: ${country || "-"}
Incoterm: ${incoterm || "-"}

Buyer: ${name || "-"}
Email: ${email || "-"}

Details:
${msg || "-"}

Please share this RFQ with suitable suppliers.`;

    window.location.href = `mailto:${encodeURIComponent(BUSINESS_EMAIL)}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
    closeRFQ();
  }

  function sendWhatsAppRFQ(){
    const product = document.getElementById("rfqProduct").value.trim();
    const qty = document.getElementById("rfqQty").value.trim();
    const country = document.getElementById("rfqCountry").value.trim();
    const incoterm = document.getElementById("rfqIncoterm").value.trim();
    const name = document.getElementById("rfqName").value.trim();
    const email = document.getElementById("rfqEmail").value.trim();
    const msg = document.getElementById("rfqMsg").value.trim();

    const text = `Hello Ambritech Marketplace, I want to post an RFQ.

Product: ${product || "-"}
Quantity: ${qty || "-"}
Destination: ${country || "-"}
Incoterm: ${incoterm || "-"}

Buyer: ${name || "-"}
Email: ${email || "-"}

Details: ${msg || "-"}`;

    window.open(`${waBase}?text=${encodeURIComponent(text)}`,"_blank","noopener,noreferrer");
    closeRFQ();
  }

  function openWhatsAppDirect(productName, supplierName){
    const text = `Hello, I found "${productName}" from ${supplierName} on Ambritech Marketplace. I want a quotation.`;
    window.open(`${waBase}?text=${encodeURIComponent(text)}`,"_blank","noopener,noreferrer");
  }

  function openSupplierJoin(){
    const text = `Hello Ambritech, I want to register as a supplier on your marketplace.`;
    window.open(`${waBase}?text=${encodeURIComponent(text)}`,"_blank","noopener,noreferrer");
  }

  function scrollToId(id){
    const el = document.getElementById(id);
    if(el) el.scrollIntoView({behavior:"smooth", block:"start"});
  }

  function setMode(mode){
    const tp = document.getElementById("tabProducts");
    const ts = document.getElementById("tabSuppliers");
    if(mode==="products"){
      tp.classList.add("active"); ts.classList.remove("active");
      scrollToId("products");
    }else{
      ts.classList.add("active"); tp.classList.remove("active");
      scrollToId("suppliers");
    }
  }

  /* Initial render */
  renderProducts(products);
  applyFilters();
</script>

</body>
</html>
